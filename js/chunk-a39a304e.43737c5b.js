(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a39a304e"],{"1dde":function(t,e,a){var n=a("d039"),r=a("b622"),s=a("2d00"),c=r("species");t.exports=function(t){return s>=51||!n((function(){var e=[],a=e.constructor={};return a[c]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"4de4":function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").filter,s=a("1dde"),c=s("filter");n({target:"Array",proto:!0,forced:!c},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(t,e,a){var n=a("861d"),r=a("e8b5"),s=a("b622"),c=s("species");t.exports=function(t,e){var a;return r(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?n(a)&&(a=a[c],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},"75a3":function(t,e,a){},b727:function(t,e,a){var n=a("0366"),r=a("44ad"),s=a("7b0b"),c=a("50c4"),i=a("65f0"),o=[].push,l=function(t){var e=1==t,a=2==t,l=3==t,g=4==t,u=6==t,d=7==t,v=5==t||u;return function(E,f,m,C){for(var p,b,_=s(E),y=r(_),h=n(f,m,3),w=c(y.length),k=0,S=C||i,A=e?S(E,w):a||d?S(E,0):void 0;w>k;k++)if((v||k in y)&&(p=y[k],b=h(p,k,_),t))if(e)A[k]=b;else if(b)switch(t){case 3:return!0;case 5:return p;case 6:return k;case 2:o.call(A,p)}else switch(t){case 4:return!1;case 7:o.call(A,p)}return u?-1:l||g?g:A}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},dbaa:function(t,e,a){"use strict";a("75a3")},e8b5:function(t,e,a){var n=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},f5ae:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[null!=t.entregaSeleccionada?a("v-card",{staticClass:"my-3",attrs:{color:"blue"}},[a("v-row",[a("v-col",[a("v-btn",{attrs:{color:"green",block:"",dark:""},on:{click:function(e){return t.clickEnVerMapa()}}},[a("div",{staticClass:"itemUnaEntrega"},[t._v("Ver en el mapa")])])],1)],1),a("v-row",[a("v-col",{attrs:{align:"center"}},[a("div",{staticClass:"itemUnaEntrega"},[t._v("# "+t._s(t.entregaSeleccionada.OrdenEntrega))])])],1),a("v-row",[a("v-col",{attrs:{align:"center"}},[a("div",{staticClass:"itemUnaEntrega"},[t._v(t._s(t.entregaSeleccionada.Comprobante))])])],1),a("v-row",[a("v-col",{attrs:{align:"center"}},[a("div",{staticClass:"itemUnaEntrega"},[t._v(t._s(t.entregaSeleccionada.NombreCliente))])])],1),a("v-row",[a("v-col",{attrs:{align:"center"}},[a("div",{staticClass:"itemUnaEntrega"},[t._v(t._s(t.entregaSeleccionada.NombreDestino))])])],1),a("v-row",[a("v-col",{attrs:{align:"center"}},[a("div",{staticClass:"itemUnaEntrega"},[t._v(t._s(t.entregaSeleccionada.Domicilio))])])],1),a("v-row",[a("v-col",{attrs:{align:"center"}},[a("div",{staticClass:"itemUnaEntrega"},[t._v(t._s(t.entregaSeleccionada.Localidad))])])],1),a("v-row",[a("v-col",{attrs:{align:"center"}},[a("div",{staticClass:"itemUnaEntrega"},[t._v("Bultos: "+t._s(t.entregaSeleccionada.Bultos))])])],1),a("v-row",[a("v-col",["RECOLECTADO"==t.entregaSeleccionada.Estado?a("v-btn",{attrs:{color:"green",block:"",dark:""},on:{click:function(e){return t.clickEnOK()}}},[a("div",{staticClass:"itemUnaEntrega"},[t._v("OK üëç")])]):t._e()],1)],1),a("v-row",[a("v-col",["RECOLECTADO"==t.entregaSeleccionada.Estado?a("v-btn",{attrs:{color:"red",block:"",dark:""},on:{click:function(e){return t.clickEnNo()}}},[a("div",{staticClass:"itemUnaEntrega"},[t._v("NO üëé")])]):t._e()],1)],1),a("v-row",[a("v-col",["RECOLECTADO"==t.entregaSeleccionada.Estado?a("v-btn",{attrs:{color:"orange",block:"",dark:""},on:{click:function(e){return t.clickEnParcial()}}},[a("div",{staticClass:"itemUnaEntrega"},[t._v("PARCIAL ü§î")])]):t._e()],1)],1),a("v-row",[a("v-col",[a("v-btn",{attrs:{color:"rgb(37, 150, 190)",block:"",dark:""},on:{click:function(e){return t.clickEnCancelar()}}},[a("div",{staticClass:"itemUnaEntrega"},[t._v("CERRAR")])])],1)],1)],1):t._e(),a("v-row",{staticClass:"mb-1"},[a("v-col",[a("v-btn",{attrs:{color:"green",block:"",dark:""},on:{click:function(e){return t.clickEnActualizar()}}},[a("div",{staticClass:"itemUnaEntrega"},[t._v("Actualizar"),a("v-icon",[t._v("mdi-refresh")])],1)])],1)],1),null==t.entregaSeleccionada?a("v-alert",{staticClass:"py-0 mt-0 mb-1 itemEntrega",attrs:{color:"green"}},[t._v(t._s(t.getTituloListaEntregas()))]):t._e(),null==t.entregaSeleccionada?a("v-alert",{staticClass:"py-0 my-0 itemEntrega",attrs:{color:"blue"}},[t._v("Entregas pendientes ("+t._s(t.getListaEntregas(!0).length)+")")]):t._e(),t._l(t.getListaEntregas(!0),(function(e,n){return null==t.entregaSeleccionada?a("v-alert",{staticClass:"my-1",attrs:{color:t.getColorEntrega(e)},on:{click:function(a){return t.clickEnEntrega(e)}}},[a("v-row",{staticClass:"py-0 my-0"},[a("v-col",{staticClass:"py-0 my-0",attrs:{align:"center"}},[a("div",{staticClass:"itemEntrega"},[t._v("# "+t._s(e.OrdenEntrega)+" - "+t._s(e.NombreCliente))])])],1),a("v-row",{staticClass:"py-0 my-0"},[a("v-col",{staticClass:"py-0 my-0",attrs:{align:"center"}},[a("div",{staticClass:"itemEntrega"},[t._v(t._s(e.Comprobante))])])],1),a("v-row",{staticClass:"py-0 my-0"},[a("v-col",{staticClass:"py-0 my-0",attrs:{align:"center"}},[a("div",{staticClass:"itemEntrega"},[t._v(t._s(e.NombreDestino))])])],1)],1):t._e()})),null==t.entregaSeleccionada?a("v-alert",{staticClass:"py-0 mb-0 mt-5 itemEntrega",attrs:{color:"green"}},[t._v("Entregas realizadas ("+t._s(t.getListaEntregas(!1).length)+")")]):t._e(),t._l(t.getListaEntregas(!1),(function(e,n){return null==t.entregaSeleccionada?a("v-alert",{staticClass:"my-1",attrs:{color:t.getColorEntrega(e)}},[a("v-row",{staticClass:"py-0 my-0"},[a("v-col",{staticClass:"py-0 my-0",attrs:{align:"center"}},[a("div",{staticClass:"itemEntrega"},[t._v("# "+t._s(e.OrdenEntrega)+" - "+t._s(e.NombreCliente))])])],1),a("v-row",{staticClass:"py-0 my-0"},[a("v-col",{staticClass:"py-0 my-0",attrs:{align:"center"}},[a("div",{staticClass:"itemEntrega"},[t._v(t._s(e.Comprobante))])])],1),a("v-row",{staticClass:"py-0 my-0"},[a("v-col",{staticClass:"py-0 my-0",attrs:{align:"center"}},[a("div",{staticClass:"itemEntrega"},[t._v(t._s(e.NombreDestino))])])],1)],1):t._e()}))],2)},r=[],s=(a("4de4"),a("f973")),c=a("4360");function i(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function o(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function l(t){o(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"===typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"===typeof t||"[object Number]"===e?new Date(t):("string"!==typeof t&&"[object String]"!==e||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function g(t){o(1,arguments);var e=l(t);return e.setHours(0,0,0,0),e}var u=864e5;function d(t,e){o(2,arguments);var a=g(t),n=g(e),r=a.getTime()-i(a),s=n.getTime()-i(n);return Math.round((r-s)/u)}const v={getHoy(){const t=new Date,e=String(t.getFullYear())+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0");return e},getDistanciaEntreFechas(t,e){const a=new Date(t.substr(0,4),parseInt(t.substr(5,2))-1,t.substr(8,2)),n=new Date(e.substr(0,4),parseInt(e.substr(5,2))-1,e.substr(8,2));return d(a,n)}};var E=v,f={name:"VerRutaActual",data:function(){return{listaEntregas:[],entregaSeleccionada:null,ventanaActual:1}},methods:{getTituloListaEntregas:function(){return"Entregas para el "+E.getHoy()+" - Ventana: "+this.ventanaActual},getEntregas:function(){var t=this;s["a"].actions.getEntregas(c["a"].state.choferes.choferActual.numero,E.getHoy(),this.ventanaActual).then((function(e){t.listaEntregas=e,t.listaEntregas.sort((function(t,e){return t.OrdenEntrega>e.OrdenEntrega?1:-1}))})).catch((function(t){console.log(t)}))},clickEnActualizar:function(){this.getEntregas()},clickEnVerMapa:function(){window.open("http://maps.google.com/maps?q="+this.entregaSeleccionada.Latitud+","+this.entregaSeleccionada.Longitud,"_blank").focus()},getListaEntregas:function(t){return t?this.listaEntregas.filter((function(t){return"RECOLECTADO"==t.Estado||"Ruteado"==t.Estado})):this.listaEntregas.filter((function(t){return"RECOLECTADO"!=t.Estado&&"Ruteado"!=t.Estado}))},getColorEntrega:function(t){return"ENTREGADO"==t.Estado?"green":"NO ENTREGADO"==t.Estado?"red":"PARCIAL"==t.Estado?"orange":"Ruteado"==t.Estado?"#f6daa4":"blue"},clickEnCancelar:function(){this.entregaSeleccionada=null},clickEnOK:function(){this.registrarEntregaEntregada("ENTREGADO")},clickEnNo:function(){this.registrarEntregaEntregada("NO ENTREGADO")},clickEnParcial:function(){this.registrarEntregaEntregada("PARCIAL")},registrarEntregaEntregada:function(t){var e=this;s["a"].actions.registrarEntregaEntregada(this.entregaSeleccionada.Guia,c["a"].state.choferes.choferActual.numero,E.getHoy(),this.ventanaActual,t).then((function(a){var n=e.listaEntregas.indexOf(e.entregaSeleccionada);e.listaEntregas[n].Estado=t,e.entregaSeleccionada=null})).catch((function(t){e.mostrarError(t)}))},clickEnEntrega:function(t){this.entregaSeleccionada=t},mostrarError:function(t){c["a"].dispatch("snackbar/mostrar",t)}},created:function(){this.getEntregas()}},m=f,C=(a("dbaa"),a("2877")),p=Object(C["a"])(m,n,r,!1,null,"25debefc",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-a39a304e.43737c5b.js.map